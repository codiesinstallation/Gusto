<?php
bolt_decrypt( __FILE__ , 'cgCeW7'); return 0;
##!!!##DQoNCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyczsNCg0KdXNlIEFwcFxIdHRwXFJlcXVlc3RzXFVlcnNSZXF1ZXN0Ow0KdXNlIEFwcFxNb2RlbHNcVXNlcjsNCnVzZSBJbGx1bWluYXRlXEh0dHBcSnNvblJlc3BvbnNlOw0KdXNlIElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0Ow0KdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxGYWNhZGVzXEF1dGg7DQp1c2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQ29udHJvbGxlcjsNCnVzZSBBcHBcTWFpbFxSZXBvcnRNYWlsOw0KdXNlIEFwcFxNb2RlbHNcTWl4aW5zOw0KdXNlIERCOw0KdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxGYWNhZGVzXENvb2tpZTsNCnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xIYXNoOw0KdXNlIElsbHVtaW5hdGVcVGVzdGluZ1xGbHVlbnRcQ29uY2VybnNcSGFzOw0KdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxTdHI7DQoNCg0KY2xhc3MgQXV0aENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyDQp7DQogICAgLyoqDQogICAgICogQ3JlYXRlIGEgbmV3IEF1dGhDb250cm9sbGVyIGluc3RhbmNlLg0KICAgICAqDQogICAgICogQHJldHVybiB2b2lkDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIGluaXQoKQ0KICAgIHsNCiAgICAgICAgJGlkID0gQXV0aDo6aWQoKTsNCiAgICAgICAgJHVzZXIgPSBVc2VyOjp3aXRoKCJyb2xlcyIpLT53aGVyZSgiaWQiLCAkaWQpLT5maXJzdCgpOw0KICAgICAgICByZXR1cm4gWyJ1c2VyIiA9PiAkdXNlcl07DQogICAgfQ0KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpDQogICAgew0KICAgICAgICAkdGhpcy0+bWlkZGxld2FyZSgnSldUJywgWydleGNlcHQnID0+IFsnbG9naW4nLCAnc2lnbnVwJ11dKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBHZXQgYSBKV1QgdmlhIGdpdmVuIGNyZWRlbnRpYWxzLg0KICAgICAqDQogICAgICogQHJldHVybiBKc29uUmVzcG9uc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgZnVuY3Rpb24gbG9naW4oUmVxdWVzdCAkcmVxdWVzdCkNCiAgICB7DQogICAgICAgICR2YWxpZGF0ZURhdGEgPSAkcmVxdWVzdC0+dmFsaWRhdGUoWw0KICAgICAgICAgICAgJ3Bhc3N3b3JkJyA9PiAncmVxdWlyZWQnLA0KICAgICAgICAgICAgJ25hbWUnID0+ICdyZXF1aXJlZCcsDQoNCiAgICAgICAgXSk7DQogICAgICAgIGlmIChzdHJ0b3VwcGVyKHN1YnN0cihQSFBfT1MsIDAsIDMpKSA9PT0gJ1dJTicpIHsNCiAgICAgICAgICAgICRzZXJpYWwgPSAgc2hlbGxfZXhlYygnd21pYyBESVNLRFJJVkUgR0VUIFNlcmlhbE51bWJlciAyPiYxJyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkc2VyaWFsID0gIHNoZWxsX2V4ZWMoJ2lvcmVnIC1yZDEgLXcwIC1jIEFwcGxlQUhDSURpc2tEcml2ZXIgfCBncmVwIFNlcmlhbCcpOw0KICAgICAgICB9DQogICAgICAgICRtaXhpbnMgPSBEQjo6dGFibGUoJ21peGluc19pbmZvJyktPndoZXJlKCdpZCcsIDEpLT5maXJzdCgpOw0KDQogICAgICAgICRjb250YWlucyA9IFN0cjo6Y29udGFpbnMoJHNlcmlhbCwgJG1peGlucy0+bWl4aW5zX21hY19zZXJpYWwpOw0KICAgICAgICAvLyBpZiAoJGNvbnRhaW5zICYmIHN0cmxlbigkbWl4aW5zLT5taXhpbnNfbWFjX3NlcmlhbCkgPiA1KSB7DQogICAgICAgICRjcmVkZW50aWFscyA9IHJlcXVlc3QoWyduYW1lJywgJ3Bhc3N3b3JkJ10pOw0KICAgICAgICBpZiAoISR0b2tlbiA9IGF1dGgoKS0+YXR0ZW1wdCgkY3JlZGVudGlhbHMpKSB7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbJ2Vycm9yJyA9PiAn2KrYo9mD2K8g2YXZhiDYp9iz2YUg2KfZhNmF2LPYqtiu2K/ZhSDZiNmD2YTZhdipINin2YTYs9ixICEnXSwgNDAxKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJHJlcXVlc3QtPmhhc0Nvb2tpZSgnbG9jYWxlJykpIHsNCiAgICAgICAgICAgIC8vIGRvIHNvbWV0aGluZw0KICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICBDb29raWU6OnF1ZXVlKCd1c2VyJywgIGF1dGgoKS0+dXNlcigpLCB0aW1lKCkgKyAoMjAgKiAzNjUgKiAyNCAqIDYwICogNjApKTsNCiAgICAgICAgfQ0KICAgICAgICBzZXNzaW9uKCktPnB1dCgndXNlcicsIGF1dGgoKS0+dXNlcigpKTsNCg0KDQogICAgICAgIHJldHVybiAkdGhpcy0+cmVzcG9uZFdpdGhUb2tlbigkdG9rZW4pOw0KICAgICAgICAvLyB9IGVsc2Ugew0KICAgICAgICAvLyAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWydlcnJvcicgPT4gJ9mG2LPYrtipINi62YrYsSDZhdmI2KvZgtipJ10sIDQwMSk7DQogICAgICAgIC8vIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBHZXQgdGhlIGF1dGhlbnRpY2F0ZWQgVXNlci4NCiAgICAgKg0KICAgICAqIEByZXR1cm4gSnNvblJlc3BvbnNlDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIG1lKCkNCiAgICB7DQogICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKGF1dGgoKS0+dXNlcigpKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBMb2cgdGhlIHVzZXIgb3V0IChJbnZhbGlkYXRlIHRoZSB0b2tlbikuDQogICAgICoNCiAgICAgKiBAcmV0dXJuIEpzb25SZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBsb2dvdXQoKQ0KICAgIHsNCiAgICAgICAgYXV0aCgpLT5sb2dvdXQoKTsNCg0KICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbJ21lc3NhZ2UnID0+ICdTdWNjZXNzZnVsbHkgbG9nZ2VkIG91dCddKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZWZyZXNoIGEgdG9rZW4uDQogICAgICoNCiAgICAgKiBAcmV0dXJuIEpzb25SZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiByZWZyZXNoKCkNCiAgICB7DQogICAgICAgIHJldHVybiAkdGhpcy0+cmVzcG9uZFdpdGhUb2tlbihhdXRoKCktPnJlZnJlc2goKSk7DQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIHNpZ251cChVZXJzUmVxdWVzdCAkcmVxdWVzdCkNCiAgICB7DQogICAgICAgICRkYXRhID0gYXJyYXkoKTsNCiAgICAgICAgJGRhdGFbJ25hbWUnXSA9ICRyZXF1ZXN0LT5uYW1lOw0KICAgICAgICAvLyAgICAgICAgJGRhdGFbJ2VtYWlsJ10gPSAkcmVxdWVzdC0+ZW1haWw7DQogICAgICAgICRkYXRhWydwYXNzd29yZCddID0gSGFzaDo6bWFrZSgkcmVxdWVzdC0+cGFzc3dvcmQpOw0KICAgICAgICBEQjo6dGFibGUoJ3VzZXJzJyktPmluc2VydCgkZGF0YSk7DQogICAgICAgIHJldHVybiAkdGhpcy0+bG9naW4oKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBHZXQgdGhlIHRva2VuIGFycmF5IHN0cnVjdHVyZS4NCiAgICAgKg0KICAgICAqIEBwYXJhbSBzdHJpbmcgJHRva2VuDQogICAgICoNCiAgICAgKiBAcmV0dXJuIEpzb25SZXNwb25zZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiByZXNwb25kV2l0aFRva2VuKCR0b2tlbikNCiAgICB7DQoNCiAgICAgICAgcmV0dXJuICByZXNwb25zZSgpLT5qc29uKFsNCiAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nID0+ICR0b2tlbiwNCiAgICAgICAgICAgICd0b2tlbl90eXBlJyA9PiAnYmVhcmVyJywNCiAgICAgICAgICAgICdleHBpcmVzX2luJyA9PiBhdXRoKCktPmZhY3RvcnkoKS0+Z2V0VFRMKCkgKiA2MCwNCiAgICAgICAgICAgICd1c2VybmFtZScgPT4gYXV0aCgpLT51c2VyKCktPm5hbWUsDQogICAgICAgICAgICAndXNlcl9pZCcgPT4gYXV0aCgpLT51c2VyKCktPmlkLA0KICAgICAgICAgICAgJ2xhbmcnID0+IE1peGluczo6c2VsZWN0KCdkZWZhdWx0X2xhbmcnKS0+d2hlcmUoJ2lkJywgMSktPmZpcnN0KCktPmRlZmF1bHRfbGFuZywNCiAgICAgICAgICAgICd1c2VyJyA9PiBhdXRoKCktPnVzZXIoKSwNCiAgICAgICAgXSk7DQogICAgfQ0KfQ0K